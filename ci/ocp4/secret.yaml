---
    kind: Template
    apiVersion: template.openshift.io/v1
    message: A new Secret has been created in your project
    metadata:
      name: bcgov-baserow-secret-dc
    parameters:
      - description: The short-name of the BaseRow Service, lower-case with hyphen.
        displayName: BaseRow Name
        name: APP_NAME
        required: true
        value: test
      - description: Secret Key for BaseRow app.
        displayName: BaseRow Secret Key
        from: "[a-zA-Z0-9]{16}"
        generate: expression
        name: SECRET_KEY
        required: true
      - description: JWT Signing Key for BaseRow app.
        displayName: JWT Signing Key
        from: "[a-zA-Z0-9]{42}"
        generate: expression
        name: BASEROW_JWT_SIGNING_KEY
        required: true        
    objects:
      - kind: Secret
        apiVersion: v1
        metadata:
          name: "${APP_NAME}-baserow-secret"
          labels:
            app: "${APP_NAME}-baserow"
          annotations:
            description: Database credentials and name.
            template.openshift.io/expose-secret_key: "{.data['secret-key']}"
            template.openshift.io/expose-baserow_jwt_signing_key: "{.data['baserow-jwt-signing-key']}"
        stringData:
          secret-key: "${SECRET_KEY}"
          baserow-jwt-signing-key: "${BASEROW_JWT_SIGNING_KEY}"
